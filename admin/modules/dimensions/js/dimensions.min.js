var $=jQuery.noConflict();jQuery(document).ready(function(c){var b="dimensions";var d="modules/"+b+"/";c("#watermark_enableBig").on("ifChecked",function(f){f.preventDefault();c("#watermark_1").fadeIn()});c("#watermark_enableBig").on("ifUnchecked",function(f){f.preventDefault();c("#watermark_1").fadeOut()});c("#watermark_enableSmall").on("ifChecked",function(f){f.preventDefault();c("#watermark_2").fadeIn()});c("#watermark_enableSmall").on("ifUnchecked",function(f){f.preventDefault();c("#watermark_2").fadeOut()});c(function(){c("#fileInput").on("change",a);c("#fileInput2").on("change",a)});function a(e){var j=c("input[name=dimensionID]").attr("value");var q=c(this).closest(".watermark_block").attr("id");var m=q.split("_");var o=m[1];files=e.target.files;var k=new FormData();for(var l=0;l<files.length;l++){var g=files[l];if(!g.type.match("image.*")){c("#success_upload").html("Please choose an images file.")}else{if(g.size>1048576){c("#success_upload").html("Sorry, your file is too large )")}else{var n=c("#moduleID").val();var s=c("input[name=userID").val();var h=c("input[name=token").val();var f=c("input[name=cpass").val();var p=c("input[name=rdts").val();k.append("file",g,g.name);k.append("dimensionID",j);k.append("dimensionType",o);k.append("moduleID",n);k.append("userID",s);k.append("token",h);k.append("cpass",f);k.append("rdts",p);var r=new XMLHttpRequest();r.open("POST",d+"actions/upload_watermark.php",true);r.send(k);r.onload=function(){var i=JSON.parse(r.responseText);c("#"+q+" .success_upload").html(i.thumb)}}}}}c(document).on("submit","#edit_dimensions_form",function(){var e=c("#edit_dimensions_form, #token_data");c.ajax({type:"POST",url:d+"actions/edit_dimension.php",data:e.serialize(),success:function(f){showMessage("success","","")},error:function(f){showMessage("error","","")}});return false});c(document).on("click touchstart",".del_dim",function(){var e=c(this).attr("data-id");var f="btn-red";var g=lang.settDelDim;c.confirm({title:g,content:"",buttons:{formSubmit:{text:lang.settDelButton,btnClass:f,action:function(){var i=c("#moduleID").val();var h=c("#token_data");var j={moduleID:i,dim_id:e};j=h.serialize()+"&"+c.param(j);c.ajax({type:"POST",url:d+"actions/delete_dimension.php",data:j,success:function(k){c("#dimTr_"+e).fadeOut();showMessage("success","","")},error:function(k){showMessage("error","","")}})}},cancel:function(){},},onContentReady:function(){}})});c(document).on("click touchstart","#create_dimension",function(g){g.preventDefault();var f="btn-blue";var h=lang.settCreateNewDim;var e="url:"+d+"confirmBox/add_dimension.php";c.confirm({title:h,content:e,buttons:{formSubmit:{text:lang.settNewButton,btnClass:f,action:function(){var j=c("#newDim").val();var k=c("#moduleID").val();var i=c("#token_data");var l={moduleID:k,newDim:j};l=i.serialize()+"&"+c.param(l);c.ajax({type:"POST",dataType:"json",url:d+"actions/add_dimension.php",data:l,cache:false,success:function(m){showMessage("success","","");window.setTimeout(window.location.replace(m.load_dim_url),500)},error:function(m){showMessage("error","","")}})}},cancel:function(){},},onContentReady:function(){}})})});