var $=jQuery.noConflict();jQuery(document).ready(function(c){var b="sliders";var d="modules/"+b+"/";function a(){var e=document.querySelector(".js-switch");var f=new Switchery(e,{color:"#26B99A"})}c(document).on("click touchstart","#add_new_slide",function(g){g.preventDefault();var f="btn-blue";var h=lang.commonCreateNew;var e="url:"+d+"confirmBox/add_slide.php";c.confirm({title:h,content:e,buttons:{formSubmit:{text:lang.commonCreateButton,btnClass:f,action:function(){var n=[];var m=c("#author_id").val();var k=c("#for_instance").val();var j=c("#instance_name").val();var l=c("#moduleID").val();var i=c("#token_data");var o={moduleID:l,name:j,for_instance:k};o=i.serialize()+"&"+c.param(o);c.ajax({type:"POST",url:d+"actions/add_slide.php",data:o,cache:false,success:function(p){showMessage("success","","");c("#sort_slides").prepend(p);a()},error:function(p){showMessage("error","","")}})}},cancel:function(){},},onContentReady:function(){}})});c(".publish_switch").change(function(j){j.preventDefault();var h=c(this).attr("data-id");if(c(this).prop("checked")){var k=1}else{var k=0}var g=c("#moduleID").val();var f=c("#token_data");var i={moduleID:g,instanceID:h,published:k};i=f.serialize()+"&"+c.param(i);c.ajax({type:"POST",url:d+"actions/publish.php",data:i,success:function(e){showMessage("success","","")},error:function(e){showMessage("error","","")}});return false});c("#sort_slides").sortable({items:"li",placeholder:"placeholder_dragable",update:function(){var f=c("#moduleID").val();var e=c("#token_data");var h=c("#sort_slides");var g={moduleID:f};g=h.serializeTree("data-id","postData")+"&"+e.serialize()+"&"+c.param(g);c.ajax({type:"POST",url:d+"actions/input_new_order.php",data:g,success:function(i){showMessage("success","","");c("#dev").html(i)},error:function(i){showMessage("error","","")}})}}).disableSelection();c(document).on("submit","#edit_slide_form",function(){var e=c("#edit_slide_form, #token_data");c.ajax({type:"POST",url:d+"actions/edit_slide.php",data:e.serialize(),success:function(f){showMessage("success","","");c("#dev").html(f)},error:function(f){showMessage("error","","")}});return false})});